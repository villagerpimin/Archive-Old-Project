{"version":3,"sources":["webpack:///C:/Users/86188/OneDrive - alumni.albany.edu/桌面/uniapp/简约新闻/components/news-comment/news-comment.vue?7be1","webpack:///C:/Users/86188/OneDrive - alumni.albany.edu/桌面/uniapp/简约新闻/components/news-comment/news-comment.vue?8dce","webpack:///C:/Users/86188/OneDrive - alumni.albany.edu/桌面/uniapp/简约新闻/components/news-comment/news-comment.vue?9252","webpack:///C:/Users/86188/OneDrive - alumni.albany.edu/桌面/uniapp/简约新闻/components/news-comment/news-comment.vue?56a2","uni-app:///components/news-comment/news-comment.vue","webpack:///C:/Users/86188/OneDrive - alumni.albany.edu/桌面/uniapp/简约新闻/components/news-comment/news-comment.vue?5617","webpack:///C:/Users/86188/OneDrive - alumni.albany.edu/桌面/uniapp/简约新闻/components/news-comment/news-comment.vue?190c"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AAC6L;AAC7L,gBAAgB,2LAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AAA2uB,CAAgB,4rBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyC/vB;AACA,sBADA;AAEA,MAFA,kBAEA;AACA;AACA,kBADA;AAEA;AACA,qBADA;AAEA,2BAFA;AAGA,iBAHA;AAIA,sBAJA;AAKA,oBALA,EAFA;;;AAUA,GAbA;AAcA,gBAdA;AAeA,SAfA,qBAeA;AACA;AACA;AACA,GAlBA;AAmBA;AACA,gBADA,0BACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAXA;AAYA,YAZA,oBAYA,CAZA,EAYA;AACA;AACA,KAdA;AAeA,eAfA,yBAeA;AACA;AACA;AACA,iEADA;AAEA;AACA,6BADA;AAEA,mCAFA;AAGA,0BAHA,EAFA;;AAOA,sBAPA;AAQA;AACA,6DADA,EARA;;AAWA,eAXA,mBAWA,GAXA,EAWA;AACA;AACA;AACA;AACA,4BADA;AAEA,6BAFA;AAGA,4BAHA;;AAKA,sCANA,CAMA;AACA;AACA,SArBA;;AAuBA,KAxCA;AAyCA,cAzCA,sBAyCA,GAzCA,EAyCA;AACA;AACA;AACA;AACA,iEADA;AAEA;AACA,uBADA,EAFA;;AAKA,eALA,mBAKA,GALA,EAKA;AACA;AACA;AACA,SARA;;AAUA,KAtDA;AAuDA,eAvDA,uBAuDA,KAvDA,EAuDA,IAvDA,EAuDA;AACA;AACA;AACA;AACA,uEADA;AAEA;AACA,yCADA;AAEA,sBAFA,EAFA;;AAMA,sBANA;AAOA;AACA,6DADA,EAPA;;AAUA,eAVA,mBAUA,GAVA,EAUA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAnBA;;AAqBA,KA/EA,EAnBA,E;;;;;;;;;;;;;ACzCA;AAAA;AAAA;AAAA;AAAw1C,CAAgB,8rCAAG,EAAC,C;;;;;;;;;;;ACA52C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/news-comment/news-comment.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./news-comment.vue?vue&type=template&id=564769a4&\"\nvar renderjs\nimport script from \"./news-comment.vue?vue&type=script&lang=js&\"\nexport * from \"./news-comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./news-comment.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/news-comment/news-comment.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./news-comment.vue?vue&type=template&id=564769a4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event, item, index) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        item = _temp2.item,\n        index = _temp2.index\n\n      var _temp, _temp2\n\n      item.good > 0 ? _vm.clickFinger(index, \"bad\") : \"\"\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./news-comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./news-comment.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"comment\">\r\n\t\t<view class=\"comment-body\">\r\n\t\t\t<view class=\"lm\">\r\n\t\t\t\t<image src=\"../../static/images/news/comment.svg\"></image>\r\n\t\t\t\t评论区\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 评论的编辑区 -->\r\n\t\t\t<view class=\"comm-eidt\">\r\n\t\t\t\t<form @submit=\"postComment()\">\r\n\t\t\t\t\t<textarea :placeholder=\"login.placeholder\"\r\n\t\t\t\t\t\t:disabled=\"login.disable\" confirm-type=\"done\" @blur=\"saveText\"></textarea>\r\n\t\t\t\t\t<button form-type=\"submit\" :disabled=\"login.disable\">发布</button>\r\n\t\t\t\t</form>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 相关新闻的评论 -->\r\n\t\t\t<view class=\"comm\" v-for=\"(item,index) in comments\">\r\n\t\t\t\t<!-- 用户头像 -->\r\n\t\t\t\t<image class=\"cava\" :src=\"item.avatar\"></image>\r\n\t\t\t\t<text>{{item.name}}</text>\r\n\t\t\t\t<!-- 评论正文 -->\r\n\t\t\t\t<view class=\"comm-box\">\r\n\t\t\t\t\t<view class=\"comm-left\">\r\n\t\t\t\t\t\t{{item.content}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"comm-right\">\r\n\t\t\t\t\t\t<text>{{item.date}}\\n</text>\r\n\t\t\t\t\t\t{{item.good}}\r\n\t\t\t\t\t\t<image src=\"../../static/images/news/good.svg\" @click=\"clickFinger(index,'good')\"></image>\r\n\t\t\t\t\t\t<image src=\"../../static/images/news/bad.svg\" @click=\"item.good>0?clickFinger(index,'bad'):''\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tname:\"news-comment\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcomments:[],\r\n\t\t\t\tlogin:{\r\n\t\t\t\t\tdisable:true,\r\n\t\t\t\t\tplaceholder:\"请先登录\",\r\n\t\t\t\t\tval:null,\r\n\t\t\t\t\tnickName:null,\r\n\t\t\t\t\topenid:null\r\n\t\t\t\t}\n\t\t\t};\n\t\t},\r\n\t\tprops:[\"nid\"],\r\n\t\tmounted() {\r\n\t\t\tthis.getComment(this.nid)\r\n\t\t\tthis.checkIsLogin()\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tcheckIsLogin(){\r\n\t\t\t\t/* 判断是否已经登录 */\r\n\t\t\t\tvar userInfo = uni.getStorageSync(\"userInfo\")\r\n\t\t\t\tif(userInfo!=\"\"){\r\n\t\t\t\t\tthis.login.disable=false\r\n\t\t\t\t\tthis.login.placeholder=\"理智看待，文明交流\"\r\n\t\t\t\t\tthis.login.nickName=userInfo.name\r\n\t\t\t\t\tthis.login.openid=userInfo.openid\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(this.login)\r\n\t\t\t},\r\n\t\t\tsaveText(e){\r\n\t\t\t\tthis.login.val=e.detail.value\r\n\t\t\t},\r\n\t\t\tpostComment(){\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:getApp().globalData.dataURL+\"/api/postComment.php\",\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tval:that.login.val,\r\n\t\t\t\t\t\topenid:that.login.openid,\r\n\t\t\t\t\t\tnewsid:that.nid\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod:\"POST\",\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t'content-type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t//console.log(res.data)\r\n\t\t\t\t\t\tif(res.data==1){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:\"发表成功！\",\r\n\t\t\t\t\t\t\t\ticon:\"success\",\r\n\t\t\t\t\t\t\t\tduration:1000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthat.getComment(that.nid)  //成功后重新获取一次评论\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetComment(nid){\r\n\t\t\t\t/* 获取新闻评论 */\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:getApp().globalData.dataURL+\"/api/getComments.php\",\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tnid:that.nid\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tthat.comments=res.data\r\n\t\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclickFinger(index,type){\r\n\t\t\t\t/* 点击了赞/踩按钮时 */\r\n\t\t\t\tvar that=this\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:getApp().globalData.dataURL+\"/api/updateCommentVote.php\",\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\"pid\":that.comments[index].pid,\r\n\t\t\t\t\t\t\"type\":type\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod:\"POST\",\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t'content-type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif(type==\"good\"){\r\n\t\t\t\t\t\t\tthat.comments[index].good++\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(that.comments[index].good>=0){\r\n\t\t\t\t\t\t\t\tthat.comments[index].good--\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//console.log(res.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n.comment{\r\n\twidth: 93%;\r\n\tmargin: auto;\r\n\t.comment-body{\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 50rpx;\r\n\t\tmargin-bottom: 50rpx;\r\n\t}\r\n}\r\n.comm-eidt{\r\n\twidth: 100%;\r\n\theight: 260rpx;\r\n\tmargin-bottom: 55rpx;\r\n\ttextarea{\r\n\t\twidth: 100%;\r\n\t\theight: 200rpx;\r\n\t\tborder: 1px solid rgba($color: #7e7e7e, $alpha: 0.1);\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n\tbutton{\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n}\r\n.lm{\r\n\twidth: 100%;\r\n\theight: 100rpx;\r\n\tline-height: 50rpx;\r\n\timage{\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tposition: relative;\r\n\t\tleft: 0;\r\n\t\ttop: 15rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n}\r\n.comm{\r\n\twidth: 100%;\r\n\tmargin-bottom: 20rpx;\r\n\t.cava{\r\n\t\twidth: 70rpx;\r\n\t\theight: 70rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tposition: relative;\r\n\t\ttop: 30rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\tline-height: 75rpx;\r\n\theight: 250rpx;\r\n\tborder-bottom: 1rpx solid rgba($color: #8e8e8e, $alpha: 0.3);\r\n}\r\n.comm-box{\r\n\twidth: 100%;\r\n\theight: 120rpx;\r\n\t.comm-left{\r\n\t\twidth: 70%;\r\n\t\tfloat: left;\r\n\t}\r\n\t.comm-right{\r\n\t\tfloat: left;\r\n\t\twidth: 30%;\r\n\t\timage{\r\n\t\t\twidth: 35rpx;\r\n\t\t\theight: 35rpx;\r\n\t\t\tmargin-left: 35rpx;\r\n\t\t}\r\n\t}\r\n}\n</style>\n","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./news-comment.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./news-comment.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1636642014063\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}