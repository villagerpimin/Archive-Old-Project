{"version":3,"sources":["webpack:///C:/Users/86188/OneDrive - alumni.albany.edu/桌面/uniapp/简约新闻/components/my-avatar/my-avatar.vue?451e","webpack:///C:/Users/86188/OneDrive - alumni.albany.edu/桌面/uniapp/简约新闻/components/my-avatar/my-avatar.vue?4b7b","webpack:///C:/Users/86188/OneDrive - alumni.albany.edu/桌面/uniapp/简约新闻/components/my-avatar/my-avatar.vue?37e4","webpack:///C:/Users/86188/OneDrive - alumni.albany.edu/桌面/uniapp/简约新闻/components/my-avatar/my-avatar.vue?1262","uni-app:///components/my-avatar/my-avatar.vue","webpack:///C:/Users/86188/OneDrive - alumni.albany.edu/桌面/uniapp/简约新闻/components/my-avatar/my-avatar.vue?1c2c","webpack:///C:/Users/86188/OneDrive - alumni.albany.edu/桌面/uniapp/简约新闻/components/my-avatar/my-avatar.vue?ccc4"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACc;;;AAGtE;AAC6L;AAC7L,gBAAgB,2LAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAwuB,CAAgB,yrBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgB5vB;AACA,mBADA;AAEA,MAFA,kBAEA;AACA;AACA,oBADA;;AAGA,GANA;AAOA;;;;;;AAMA,SAbA,qBAaA;AACA;AACA;AACA,GAhBA;AAiBA,WAjBA;;;AAoBA;AACA,SADA,mBACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,iBAFA,mBAEA,OAFA,EAEA;AACA;;AAEA;AACA;AACA,gCADA;AAEA,qBAFA,mBAEA,GAFA,EAEA;AACA;AACA,qEADA;AAEA,gCAFA;AAGA;AACA,oCADA;AAEA,sDAFA;AAGA,mDAHA,EAHA;;AAQA;AACA,uEADA,EARA;;AAWA,yBAXA,mBAWA,GAXA,EAWA;AACA;AACA;AACA;AACA,sCADA;AAEA,uCAFA;AAGA,sCAHA;;AAKA;AACA;AACA,uCADA;AAEA;AACA,6CADA;AAEA,iDAFA;AAGA,iDAHA;AAIA,iDAJA;AAKA,6CALA;AAMA,2CANA,EAFA;;;AAWA;AACA;AACA,qBArBA;AAsBA;AACA;AACA;AACA,sCADA;AAEA,oCAFA;AAGA,sCAHA;;AAKA;AACA;AACA,mBA3CA;;AA6CA,eAhDA;;;AAmDA,WAzDA;AA0DA,cA1DA,gBA0DA,CA1DA,EA0DA;AACA;AACA;AACA,6BADA;AAEA,0BAFA;AAGA,4BAHA;;AAKA,WAjEA;;AAmEA,OArEA;AAsEA;AACA;AACA;AACA,mDADA;;AAGA;AACA,KAhFA;AAiFA,QAjFA,kBAiFA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,2BAFA;AAGA,0BAHA;AAIA,iBAJA,mBAIA,GAJA,EAIA;AACA;AACA;AACA;AACA,+BADA;AAEA,uBAFA,qBAEA;AACA;AACA;AACA,iBALA;;AAOA;AACA,WAfA;;AAiBA;;AAEA,KAxGA,EApBA,E;;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AAAq1C,CAAgB,2rCAAG,EAAC,C;;;;;;;;;;;ACAz2C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/my-avatar/my-avatar.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./my-avatar.vue?vue&type=template&id=e6d3100c&\"\nvar renderjs\nimport script from \"./my-avatar.vue?vue&type=script&lang=js&\"\nexport * from \"./my-avatar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./my-avatar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/my-avatar/my-avatar.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-avatar.vue?vue&type=template&id=e6d3100c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-avatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-avatar.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- 我的-头像 -->\r\n\t\t<view class=\"tou\">\r\n\t\t\t<image :src=\"strongData.avatar!=null?strongData.avatar:'../../static/images/my_avatar/my_default.png'\"\r\n\t\t\t\t@click=\"login\"></image>\r\n\t\t\t<text class=\"uname\" @click=\"login\">{{strongData.name!=null?strongData.name:\"游客\"}}</text>\r\n\t\t\t<view class=\"tap\" @click=\"exit()\">\r\n\t\t\t\t<!-- 退出登录 -->\r\n\t\t\t\t<image src=\"../../static/images/my_avatar/exit.svg\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: \"my-avatar\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tstrongData:[]\r\n\t\t\t};\r\n\t\t},\r\n\t\t/* props:{\r\n\t\t\tstrongData:{\r\n\t\t\t\ttype:Array,\r\n\t\t\t\tdefault:()=>[]\r\n\t\t\t}\r\n\t\t}, */\r\n\t\tmounted() {\r\n\t\t\tthis.strongData=uni.getStorageSync(\"userInfo\")\r\n\t\t\tconsole.log(this.strongData)\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tlogin() {\r\n\t\t\t\t/* 登录事件 */\r\n\t\t\t\tvar that = this\r\n\t\t\t\tif (this.strongData.avatar==null) {\r\n\t\t\t\t\t/* 用户未登录时 */\r\n\t\t\t\t\tuni.getUserProfile({\r\n\t\t\t\t\t\tdesc: \"weixin\",\r\n\t\t\t\t\t\tsuccess(userRes) {\r\n\t\t\t\t\t\t\t//console.log(userRes.userInfo)\r\n\r\n\t\t\t\t\t\t\t/* 获取用户openid */\r\n\t\t\t\t\t\t\tuni.login({\r\n\t\t\t\t\t\t\t\tprovider: \"weixin\",\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\t\turl: getApp().globalData.dataURL + \"/api/login.php\",\r\n\t\t\t\t\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\t\tjscode: res.code,\r\n\t\t\t\t\t\t\t\t\t\t\tavatar:userRes.userInfo.avatarUrl,\r\n\t\t\t\t\t\t\t\t\t\t\tgender:userRes.userInfo.gender\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\t\t\t\t\t'content-type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tsuccess(obj) {\r\n\t\t\t\t\t\t\t\t\t\t\tif(obj.data.status){\r\n\t\t\t\t\t\t\t\t\t\t\t\t/* 请求openid成功并保存到数据库时 */\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle:\"登录成功！\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon:\"success\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tduration:1500\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t/* 将用户信息保存到本地 */\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey:\"userInfo\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname:obj.data.name,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tavatar:obj.data.avatar,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgender:obj.data.gender,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topenid:obj.data.openid,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmail:obj.data.mail,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuid:obj.data.uid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t/* 设置用户信息 */\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.strongData=uni.getStorageSync(\"userInfo\")\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(obj)\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle:\"数据异常！\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tduration:1500\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(obj)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(e) {\r\n\t\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"用户取消登录\",\r\n\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\t/* 用户已登录时 */\r\n\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\turl:\"../../pages/my/user-edit/user-edit\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\texit(){\r\n\t\t\t\t/* 退出登录（将本地用户数据清除） */\r\n\t\t\t\tvar that = this\r\n\t\t\t\tif(this.strongData.name!=null){\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle:\"退出登录\",\r\n\t\t\t\t\t\tcontent:\"确定退出吗？\",\r\n\t\t\t\t\t\tshowCancel:true,\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t/* 用户点击确认时 */\r\n\t\t\t\t\t\t\tif(res.confirm){\r\n\t\t\t\t\t\t\t\tuni.removeStorage({\r\n\t\t\t\t\t\t\t\t\tkey:\"userInfo\",\r\n\t\t\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\t\t\tthat.strongData=uni.getStorageSync(\"userInfo\")\r\n\t\t\t\t\t\t\t\t\t\t//console.log(\"登录信息已清除\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.tou {\r\n\t\tposition: relative;\r\n\t\ttop: 40rpx;\r\n\t\twidth: 98%;\r\n\t\theight: 200rpx;\r\n\t\tmargin: auto;\r\n\t\t/* text-align: center; */\r\n\t\tline-height: 150rpx;\r\n\t\tborder-bottom: 1rpx solid rgba($color: #808080, $alpha: 0.3);\r\n\r\n\t\timage {\r\n\t\t\twidth: 150rpx;\r\n\t\t\theight: 150rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tfloat: left;\r\n\t\t\tposition: relative;\r\n\t\t\tleft: 3%;\r\n\t\t}\r\n\t\t.uname{\r\n\t\t\tposition: relative;\r\n\t\t\tleft: 10%;\r\n\t\t}\r\n\t\t.tap{\r\n\t\t\tcolor: #808080;\r\n\t\t\tfloat: right;\r\n\t\t\tposition: relative;\r\n\t\t\tright: 4%;\r\n\t\t\twidth: 50rpx;\r\n\t\t\theight: 50rpx;\r\n\t\t\ttop: 50rpx;\r\n\t\t\timage{\r\n\t\t\t\twidth: 50rpx;\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-avatar.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-avatar.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1636642014083\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}